<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>flex.html</title>
<body>
<audio id="myaudio" controls>
    <source id='test' src="http://music.163.com/song/media/outer/url?id=26447698.mp3" type="audio/mpeg">
    <source src="horse.ogg" type="audio/ogg">
    您的浏览器不支持 audio 元素。
</audio>

<audio id="myaudio_2" autoplay  src="http://music.163.com/song/media/outer/url?id=26447698.mp3" controls>
</audio>
<button onclick="changeMusic()">切换歌曲1</button>
<button onclick="changeMusic_2()">切换歌曲2</button>
<script>
    function changeMusic(){
        console.log('开始切换歌曲1')
        let test = document.getElementById('test')
        let audio = document.getElementById('myaudio')
        test.src = 'http://music.163.com/song/media/outer/url?id=33414791.mp3'
        audio.load()
        audio.oncanplay = function (){
            console.log('我加载好了')
            audio.play()
        }
    }
    function changeMusic_2(){
        console.log('开始切换歌曲2')
        let audio = document.getElementById('myaudio_2')
        audio.src = 'http://music.163.com/song/media/outer/url?id=33414791.mp3'

        // onloadstart 事件在浏览器开始寻找指定视频/音频（audio/video）触发。
        audio.onloadstart = function (){
            console.log('开始寻找指定视频/音频')
        }
        // ondurationchange 事件在视频/音频（audio/video）的时长发生变化时触发
        // 当视频/音频（audio/video）已经加载后，视频/音频（audio/video）的时长从 "NaN" 修改为正在的时长。
        audio.ondurationchange = function (){
            console.log('视频/音频（audio/video）发生了改变')
        }
        // onloadedmetadata 事件在指定视频/音频（audio/video）的元数据加载后触发
        // 视频/音频（audio/video）的元数据包含: 时长，尺寸大小（视频），文本轨道。
        audio.onloadedmetadata = function (){
            console.log('视频/音频（audio/video）的元数据被加载')
        }
        // onloadeddata 事件在当前帧的数据加载完成且还没有足够的数据播放视频/音频（audio/video）的下一帧时触发。
        audio.onloadeddata = function (){
            console.log('当前帧的数据已经加载完成了，但是下一帧还有加载好')
        }
        // onprogress 事件在浏览器下载指定的视频/音频（audio/video）时触发。
        audio.onprogress = function (){
            console.log('（audio/video）开始下载了')
        }
        // oncanplay 事件在用户可以开始播放视频/音频（audio/video）时触发。
        audio.oncanplay = function (){
            console.log('我现在可以播放了')
        }
        // oncanplaythrough 事件在视频/音频（audio/video）可以正常播放且无需停顿和缓冲时触发。
        audio.oncanplaythrough = function (){
            console.log('视频/音频（audio/video）已经全部加载完了')
        }
    }
    function sb(){
        console.log('sb')
    }
</script>
</body>
</html>
